(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[219],{97082:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});class s{constructor(e,t,r){this.promise=e,this.value=t,this.error=r,e.then((e=>this.value=e)).catch((e=>this.error=e))}}},11128:(e,t,r)=>{"use strict";r.d(t,{a:()=>a});var s=r(7544),n=r.n(s),i=r(74993),o=r.n(i);class a{constructor(e){this.providedExternals=e;for(const[t,r]of Object.entries(e))if(!o()(r))throw new Error(`The provided version ${JSON.stringify(r)} for the external ${JSON.stringify(t)} is invalid.`)}validate(e,t){for(const[r,s]of Object.entries(e)){const e=this.providedExternals[r];if(!e)throw new Error(`The external dependency ${JSON.stringify(r)}${t?` as required by ${JSON.stringify(t)}`:""} is not provided.`);if(!n()(e,s))throw new Error(`The external dependency ${JSON.stringify(r)} ${t?`as required by ${JSON.stringify(t)} in the`:"in the required"} version range ${JSON.stringify(s)} is not satisfied. The provided version is ${JSON.stringify(e)}.`)}}}},66261:(e,t,r)=>{"use strict";r.d(t,{E:()=>o});var s=r(97082),n=r(79089),i=r(29098);class o{constructor(e,t={}){this.featureServiceRegistry=e,this.options=t,this.asyncFeatureAppDefinitions=new Map,this.featureAppDefinitionsWithRegisteredOwnFeatureServices=new WeakSet,this.featureAppRetainers=new Map,this.logger=t.logger||console}getAsyncFeatureAppDefinition(e,t){const r=`${e}${t}`;let s=this.asyncFeatureAppDefinitions.get(r);return s||(s=this.createAsyncFeatureAppDefinition(e,t),this.asyncFeatureAppDefinitions.set(r,s)),s}createFeatureAppScope(e,t,r={}){const s=this.getFeatureAppRetainer(e,t,r);let n=!1;return{featureApp:s.featureApp,release:()=>{n?this.logger.warn(`The Feature App with the ID ${JSON.stringify(e)} has already been released for this scope.`):(n=!0,s.release())}}}async preloadFeatureApp(e,t){await this.getAsyncFeatureAppDefinition(e,t).promise}createAsyncFeatureAppDefinition(e,t){const{moduleLoader:r}=this.options;if(!r)throw new Error("No module loader provided.");return new s.Z(r(e,t).then((r=>{if(!(0,i.b)(r))throw new Error(n.q(e,t,this.options.moduleLoader));return this.logger.info(`The Feature App module at the url ${JSON.stringify(e)} has been successfully loaded.`),r.default})))}registerOwnFeatureServices(e,t){this.featureAppDefinitionsWithRegisteredOwnFeatureServices.has(t)||(t.ownFeatureServiceDefinitions&&this.featureServiceRegistry.registerFeatureServices(t.ownFeatureServiceDefinitions,e),this.featureAppDefinitionsWithRegisteredOwnFeatureServices.add(t))}getFeatureAppRetainer(e,t,r){let s=this.featureAppRetainers.get(e);return s?s.retain():(this.registerOwnFeatureServices(e,t),s=this.createFeatureAppRetainer(t,e,r)),s}createFeatureAppRetainer(e,t,r){var s,n;this.validateExternals(e,t);const{featureAppName:i,baseUrl:o,beforeCreate:a,config:c,done:u,parentFeatureApp:h}=r,l=this.featureServiceRegistry.bindFeatureServices(e,t,i);try{null===(n=(s=this.options).onBind)||void 0===n||n.call(s,{featureAppDefinition:e,featureAppId:t,featureAppName:i,parentFeatureApp:h})}catch(e){this.logger.error("Failed to execute onBind callback.",e)}const p={baseUrl:o,config:c,featureAppId:t,featureAppName:i,featureServices:l.featureServices,done:u};try{null==a||a(p);const r=e.create(p);this.logger.info(`The Feature App with the ID ${JSON.stringify(t)} has been successfully created.`);let s=1;const n={featureApp:r,retain:()=>{s+=1},release:()=>{s-=1,0===s&&(this.featureAppRetainers.delete(t),l.unbind())}};return this.featureAppRetainers.set(t,n),n}catch(e){throw l.unbind(),e}}validateExternals(e,t){const{externalsValidator:r}=this.options;if(!r)return;const{dependencies:s}=e;s&&s.externals&&r.validate(s.externals,t)}}},20198:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var s=r(26597),n=r.n(s),i=r(7544),o=r.n(i),a=r(74993),c=r.n(a),u=r(31355),h=r(36746);function l({dependencies:e,optionalDependencies:t}){return Object.assign(Object.assign({},e&&e.featureServices),t&&t.featureServices)}function p({optionalDependencies:e},t){return Boolean(e&&e.featureServices&&e.featureServices.hasOwnProperty(t))}class d{constructor(e={}){this.options=e,this.sharedFeatureServices=new Map,this.consumerIds=new Set,this.logger=e.logger||console}registerFeatureServices(e,t){const r=function(e){const t=new Map;for(const r of e)t.set(r.id,r);return t}(e),s=function(e){const t=new Map;for(const r of e)t.set(r.id,l(r));return t}(e);for(const e of(0,h.j)(s))this.registerFeatureService(r,e,t)}bindFeatureServices(e,t,r){if(this.consumerIds.has(t))throw new Error(u.N$(t));const s=new Map,n=Object.create(null),i=l(e);for(const o of Object.keys(i)){const a=p(e,o),c=i[o],h=this.bindFeatureService(o,t,r,c,{optional:a});h&&(this.logger.info(u.U7(o,t)),s.set(o,h),n[o]=h.featureService)}this.consumerIds.add(t);let o=!1;return{featureServices:n,unbind:()=>{if(o)throw new Error(u.oO(t));o=!0,this.consumerIds.delete(t);for(const[e,r]of s.entries())try{r.unbind&&r.unbind(),this.logger.info(u.PH(e,t))}catch(r){this.logger.error(u.NU(e,t),r)}}}}getInfo(){return{consumerIds:Array.from(this.consumerIds),featureServices:[...this.sharedFeatureServices.entries()].map((([e,t])=>({id:e,versions:Object.keys(t)})))}}registerFeatureService(e,t,r){const s=e.get(t);if(!s)return;if(this.sharedFeatureServices.has(t))return void this.logger.warn(u.KH(t,r));this.validateExternals(s,t);const{featureServices:n}=this.bindFeatureServices(s,t),i=s.create({featureServices:n});i?(this.validateFeatureServiceVersions(i,t,r),this.sharedFeatureServices.set(t,i),this.logger.info(u.HX(t,r))):this.logger.info(u.Fp(t,r))}bindFeatureService(e,t,r,s,{optional:i}){const a=s&&n()(s);if(!a){const r=u.Ak(i,e,t);if(i)return void this.logger.info(r);throw new Error(r)}const c=`^${a.version}`,h=this.sharedFeatureServices.get(e);if(!h){const r=u.FQ(i,e,t);if(i)return void this.logger.info(r);throw new Error(r)}const l=Object.keys(h),p=l.find((e=>o()(e,c))),d=p?h[p]:void 0;if(!d){const r=u.ui(i,e,t,c,l);if(i)return void this.logger.info(r);throw new Error(r)}return d(t,r)}validateExternals(e,t){const{externalsValidator:r}=this.options;if(!r)return;const{dependencies:s}=e;s&&s.externals&&r.validate(s.externals,t)}validateFeatureServiceVersions(e,t,r){for(const s of Object.keys(e))if(!c()(s))throw new Error(u.XT(t,r,s))}}},79089:(e,t,r)=>{"use strict";function s(e,t,r){let s=`The Feature App module at the url ${JSON.stringify(e)} ${t?`with the module type ${JSON.stringify(t)}`:"with no specific module type"} is invalid. A Feature App module must have a Feature App definition as default export. A Feature App definition is an object with at least a \`create\` method.`;return r&&r.length>1&&!t&&(s+=" Hint: The provided module loader expects an optional second parameter `moduleType`. It might need to be provided for this Feature App."),s}r.d(t,{q:()=>s})},31355:(e,t,r)=>{"use strict";function s(e,t,r,s,n){return`The ${e?"optional":"required"} Feature Service ${JSON.stringify(t)} in the unsupported version range ${JSON.stringify(s)} could not be bound to consumer ${JSON.stringify(r)}. The supported versions are ${JSON.stringify(n)}.`}function n(e,t,r){return`The Feature Service ${JSON.stringify(e)} could not be registered by registrant ${JSON.stringify(t)} because it defines the invalid version ${JSON.stringify(r)}.`}function i(e,t,r){return`The ${e?"optional":"required"} Feature Service ${JSON.stringify(t)} in an invalid version could not be bound to consumer ${JSON.stringify(r)}.`}function o(e,t,r){return`The ${e?"optional":"required"} Feature Service ${JSON.stringify(t)} is not registered and therefore could not be bound to consumer ${JSON.stringify(r)}.`}function a(e,t){return`The Feature Service ${JSON.stringify(e)} could not be registered by registrant ${JSON.stringify(t)} because it returned undefined.`}function c(e,t){return`The Feature Service ${JSON.stringify(e)} has been successfully registered by registrant ${JSON.stringify(t)}.`}function u(e,t){return`The already registered Feature Service ${JSON.stringify(e)} could not be re-registered by registrant ${JSON.stringify(t)}.`}function h(e,t){return`The required Feature Service ${JSON.stringify(e)} has been successfully bound to consumer ${JSON.stringify(t)}.`}function l(e){return`All required Feature Services are already bound to consumer ${JSON.stringify(e)}.`}function p(e,t){return`The required Feature Service ${JSON.stringify(e)} could not be unbound from consumer ${JSON.stringify(t)}.`}function d(e,t){return`The required Feature Service ${JSON.stringify(e)} has been successfully unbound from consumer ${JSON.stringify(t)}.`}function f(e){return`All required Feature Services are already unbound from consumer ${JSON.stringify(e)}.`}r.d(t,{ui:()=>s,XT:()=>n,Ak:()=>i,FQ:()=>o,Fp:()=>a,HX:()=>c,KH:()=>u,U7:()=>h,N$:()=>l,NU:()=>p,PH:()=>d,oO:()=>f})},29098:(e,t,r)=>{"use strict";function s(e){return!("object"!=typeof e||!e||"object"!=typeof(t=e.default)||!t||"function"!=typeof t.create);var t}r.d(t,{b:()=>s})},36746:(e,t,r)=>{"use strict";r.d(t,{j:()=>i});var s=r(94633),n=r.n(s);function i(e){const t=Array.from(e.keys()),r=function(e){return Array.from(e.keys()).reduce(((t,r)=>{const s=e.get(r);if(!s)return t;const n=function(e,t){return Object.keys(t).map((r=e,e=>[r,e]));var r}(r,s);return[...t,...n]}),[])}(e),s=n()(r);return s.push(...t.filter((t=>e.has(t)&&-1===s.indexOf(t)))),s.reverse()}},55235:(e,t,r)=>{const s=Symbol("SemVer ANY");class n{static get ANY(){return s}constructor(e,t){if(t=i(t),e instanceof n){if(e.loose===!!t.loose)return e;e=e.value}u("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===s?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(e){const t=this.options.loose?o[a.COMPARATORLOOSE]:o[a.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new h(r[2],this.options.loose):this.semver=s}toString(){return this.value}test(e){if(u("Comparator.test",e,this.options.loose),this.semver===s||e===s)return!0;if("string"==typeof e)try{e=new h(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof n))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new l(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new l(this.value,t).test(e.semver);const r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),s=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,o=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=c(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),u=c(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||s||i&&o||a||u}}e.exports=n;const i=r(38468),{re:o,t:a}=r(85468),c=r(33929),u=r(65662),h=r(47903),l=r(69784)},69784:(e,t,r)=>{class s{constructor(e,t){if(t=i(t),e instanceof s)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new s(e.raw,t);if(e instanceof o)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!f(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&g(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=`parseRange:${Object.keys(this.options).join(",")}:${e}`,r=n.get(t);if(r)return r;const s=this.options.loose,i=s?u[h.HYPHENRANGELOOSE]:u[h.HYPHENRANGE];e=e.replace(i,N(this.options.includePrerelease)),a("hyphen replace",e),e=e.replace(u[h.COMPARATORTRIM],l),a("comparator trim",e,u[h.COMPARATORTRIM]),e=(e=(e=e.replace(u[h.TILDETRIM],p)).replace(u[h.CARETTRIM],d)).split(/\s+/).join(" ");const c=s?u[h.COMPARATORLOOSE]:u[h.COMPARATOR],g=e.split(" ").map((e=>E(e,this.options))).join(" ").split(/\s+/).map((e=>w(e,this.options))).filter(this.options.loose?e=>!!e.match(c):()=>!0).map((e=>new o(e,this.options))),m=(g.length,new Map);for(const e of g){if(f(e))return[e];m.set(e.value,e)}m.size>1&&m.has("")&&m.delete("");const y=[...m.values()];return n.set(t,y),y}intersects(e,t){if(!(e instanceof s))throw new TypeError("a Range is required");return this.set.some((r=>m(r,t)&&e.set.some((e=>m(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(I(this.set[t],e,this.options))return!0;return!1}}e.exports=s;const n=new(r(39593))({max:1e3}),i=r(38468),o=r(55235),a=r(65662),c=r(47903),{re:u,t:h,comparatorTrimReplace:l,tildeTrimReplace:p,caretTrimReplace:d}=r(85468),f=e=>"<0.0.0-0"===e.value,g=e=>""===e.value,m=(e,t)=>{let r=!0;const s=e.slice();let n=s.pop();for(;r&&s.length;)r=s.every((e=>n.intersects(e,t))),n=s.pop();return r},E=(e,t)=>(a("comp",e,t),e=O(e,t),a("caret",e),e=A(e,t),a("tildes",e),e=S(e,t),a("xrange",e),e=R(e,t),a("stars",e),e),y=e=>!e||"x"===e.toLowerCase()||"*"===e,A=(e,t)=>e.trim().split(/\s+/).map((e=>v(e,t))).join(" "),v=(e,t)=>{const r=t.loose?u[h.TILDELOOSE]:u[h.TILDE];return e.replace(r,((t,r,s,n,i)=>{let o;return a("tilde",e,t,r,s,n,i),y(r)?o="":y(s)?o=`>=${r}.0.0 <${+r+1}.0.0-0`:y(n)?o=`>=${r}.${s}.0 <${r}.${+s+1}.0-0`:i?(a("replaceTilde pr",i),o=`>=${r}.${s}.${n}-${i} <${r}.${+s+1}.0-0`):o=`>=${r}.${s}.${n} <${r}.${+s+1}.0-0`,a("tilde return",o),o}))},O=(e,t)=>e.trim().split(/\s+/).map((e=>b(e,t))).join(" "),b=(e,t)=>{a("caret",e,t);const r=t.loose?u[h.CARETLOOSE]:u[h.CARET],s=t.includePrerelease?"-0":"";return e.replace(r,((t,r,n,i,o)=>{let c;return a("caret",e,t,r,n,i,o),y(r)?c="":y(n)?c=`>=${r}.0.0${s} <${+r+1}.0.0-0`:y(i)?c="0"===r?`>=${r}.${n}.0${s} <${r}.${+n+1}.0-0`:`>=${r}.${n}.0${s} <${+r+1}.0.0-0`:o?(a("replaceCaret pr",o),c="0"===r?"0"===n?`>=${r}.${n}.${i}-${o} <${r}.${n}.${+i+1}-0`:`>=${r}.${n}.${i}-${o} <${r}.${+n+1}.0-0`:`>=${r}.${n}.${i}-${o} <${+r+1}.0.0-0`):(a("no pr"),c="0"===r?"0"===n?`>=${r}.${n}.${i}${s} <${r}.${n}.${+i+1}-0`:`>=${r}.${n}.${i}${s} <${r}.${+n+1}.0-0`:`>=${r}.${n}.${i} <${+r+1}.0.0-0`),a("caret return",c),c}))},S=(e,t)=>(a("replaceXRanges",e,t),e.split(/\s+/).map((e=>$(e,t))).join(" ")),$=(e,t)=>{e=e.trim();const r=t.loose?u[h.XRANGELOOSE]:u[h.XRANGE];return e.replace(r,((r,s,n,i,o,c)=>{a("xRange",e,r,s,n,i,o,c);const u=y(n),h=u||y(i),l=h||y(o),p=l;return"="===s&&p&&(s=""),c=t.includePrerelease?"-0":"",u?r=">"===s||"<"===s?"<0.0.0-0":"*":s&&p?(h&&(i=0),o=0,">"===s?(s=">=",h?(n=+n+1,i=0,o=0):(i=+i+1,o=0)):"<="===s&&(s="<",h?n=+n+1:i=+i+1),"<"===s&&(c="-0"),r=`${s+n}.${i}.${o}${c}`):h?r=`>=${n}.0.0${c} <${+n+1}.0.0-0`:l&&(r=`>=${n}.${i}.0${c} <${n}.${+i+1}.0-0`),a("xRange return",r),r}))},R=(e,t)=>(a("replaceStars",e,t),e.trim().replace(u[h.STAR],"")),w=(e,t)=>(a("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?h.GTE0PRE:h.GTE0],"")),N=e=>(t,r,s,n,i,o,a,c,u,h,l,p,d)=>`${r=y(s)?"":y(n)?`>=${s}.0.0${e?"-0":""}`:y(i)?`>=${s}.${n}.0${e?"-0":""}`:o?`>=${r}`:`>=${r}${e?"-0":""}`} ${c=y(u)?"":y(h)?`<${+u+1}.0.0-0`:y(l)?`<${u}.${+h+1}.0-0`:p?`<=${u}.${h}.${l}-${p}`:e?`<${u}.${h}.${+l+1}-0`:`<=${c}`}`.trim(),I=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(a(e[r].semver),e[r].semver!==o.ANY&&e[r].semver.prerelease.length>0){const s=e[r].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0}},47903:(e,t,r)=>{const s=r(65662),{MAX_LENGTH:n,MAX_SAFE_INTEGER:i}=r(63046),{re:o,t:a}=r(85468),c=r(38468),{compareIdentifiers:u}=r(34498);class h{constructor(e,t){if(t=c(t),e instanceof h){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>n)throw new TypeError(`version is longer than ${n} characters`);s("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?o[a.LOOSE]:o[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(s("SemVer.compare",this.version,this.options,e),!(e instanceof h)){if("string"==typeof e&&e===this.version)return 0;e=new h(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof h||(e=new h(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof h||(e=new h(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],n=e.prerelease[t];if(s("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return u(r,n)}while(++t)}compareBuild(e){e instanceof h||(e=new h(e,this.options));let t=0;do{const r=this.build[t],n=e.build[t];if(s("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return u(r,n)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}e.exports=h},33929:(e,t,r)=>{const s=r(69204),n=r(77374),i=r(49795),o=r(61436),a=r(49454),c=r(23478);e.exports=(e,t,r,u)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return s(e,r,u);case"!=":return n(e,r,u);case">":return i(e,r,u);case">=":return o(e,r,u);case"<":return a(e,r,u);case"<=":return c(e,r,u);default:throw new TypeError(`Invalid operator: ${t}`)}}},26597:(e,t,r)=>{const s=r(47903),n=r(8395),{re:i,t:o}=r(85468);e.exports=(e,t)=>{if(e instanceof s)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let t;for(;(t=i[o.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&t.index+t[0].length===r.index+r[0].length||(r=t),i[o.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;i[o.COERCERTL].lastIndex=-1}else r=e.match(i[o.COERCE]);return null===r?null:n(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)}},77966:(e,t,r)=>{const s=r(47903);e.exports=(e,t,r)=>new s(e,r).compare(new s(t,r))},69204:(e,t,r)=>{const s=r(77966);e.exports=(e,t,r)=>0===s(e,t,r)},49795:(e,t,r)=>{const s=r(77966);e.exports=(e,t,r)=>s(e,t,r)>0},61436:(e,t,r)=>{const s=r(77966);e.exports=(e,t,r)=>s(e,t,r)>=0},49454:(e,t,r)=>{const s=r(77966);e.exports=(e,t,r)=>s(e,t,r)<0},23478:(e,t,r)=>{const s=r(77966);e.exports=(e,t,r)=>s(e,t,r)<=0},77374:(e,t,r)=>{const s=r(77966);e.exports=(e,t,r)=>0!==s(e,t,r)},8395:(e,t,r)=>{const{MAX_LENGTH:s}=r(63046),{re:n,t:i}=r(85468),o=r(47903),a=r(38468);e.exports=(e,t)=>{if(t=a(t),e instanceof o)return e;if("string"!=typeof e)return null;if(e.length>s)return null;if(!(t.loose?n[i.LOOSE]:n[i.FULL]).test(e))return null;try{return new o(e,t)}catch(e){return null}}},7544:(e,t,r)=>{const s=r(69784);e.exports=(e,t,r)=>{try{t=new s(t,r)}catch(e){return!1}return t.test(e)}},74993:(e,t,r)=>{const s=r(8395);e.exports=(e,t)=>{const r=s(e,t);return r?r.version:null}},63046:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:t,MAX_SAFE_COMPONENT_LENGTH:16}},65662:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},34498:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const s=t.test(e),n=t.test(r);return s&&n&&(e=+e,r=+r),e===r?0:s&&!n?-1:n&&!s?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},38468:e=>{const t=["includePrerelease","loose","rtl"];e.exports=e=>e?"object"!=typeof e?{loose:!0}:t.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{}},85468:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:s}=r(63046),n=r(65662),i=(t=e.exports={}).re=[],o=t.src=[],a=t.t={};let c=0;const u=(e,t,r)=>{const s=c++;n(s,t),a[e]=s,o[s]=t,i[s]=new RegExp(t,r?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","[0-9]+"),u("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),u("MAINVERSION",`(${o[a.NUMERICIDENTIFIER]})\\.(${o[a.NUMERICIDENTIFIER]})\\.(${o[a.NUMERICIDENTIFIER]})`),u("MAINVERSIONLOOSE",`(${o[a.NUMERICIDENTIFIERLOOSE]})\\.(${o[a.NUMERICIDENTIFIERLOOSE]})\\.(${o[a.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASEIDENTIFIER",`(?:${o[a.NUMERICIDENTIFIER]}|${o[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASEIDENTIFIERLOOSE",`(?:${o[a.NUMERICIDENTIFIERLOOSE]}|${o[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASE",`(?:-(${o[a.PRERELEASEIDENTIFIER]}(?:\\.${o[a.PRERELEASEIDENTIFIER]})*))`),u("PRERELEASELOOSE",`(?:-?(${o[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[a.PRERELEASEIDENTIFIERLOOSE]})*))`),u("BUILDIDENTIFIER","[0-9A-Za-z-]+"),u("BUILD",`(?:\\+(${o[a.BUILDIDENTIFIER]}(?:\\.${o[a.BUILDIDENTIFIER]})*))`),u("FULLPLAIN",`v?${o[a.MAINVERSION]}${o[a.PRERELEASE]}?${o[a.BUILD]}?`),u("FULL",`^${o[a.FULLPLAIN]}$`),u("LOOSEPLAIN",`[v=\\s]*${o[a.MAINVERSIONLOOSE]}${o[a.PRERELEASELOOSE]}?${o[a.BUILD]}?`),u("LOOSE",`^${o[a.LOOSEPLAIN]}$`),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE",`${o[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),u("XRANGEIDENTIFIER",`${o[a.NUMERICIDENTIFIER]}|x|X|\\*`),u("XRANGEPLAIN",`[v=\\s]*(${o[a.XRANGEIDENTIFIER]})(?:\\.(${o[a.XRANGEIDENTIFIER]})(?:\\.(${o[a.XRANGEIDENTIFIER]})(?:${o[a.PRERELEASE]})?${o[a.BUILD]}?)?)?`),u("XRANGEPLAINLOOSE",`[v=\\s]*(${o[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[a.XRANGEIDENTIFIERLOOSE]})(?:${o[a.PRERELEASELOOSE]})?${o[a.BUILD]}?)?)?`),u("XRANGE",`^${o[a.GTLT]}\\s*${o[a.XRANGEPLAIN]}$`),u("XRANGELOOSE",`^${o[a.GTLT]}\\s*${o[a.XRANGEPLAINLOOSE]}$`),u("COERCE",`(^|[^\\d])(\\d{1,${s}})(?:\\.(\\d{1,${s}}))?(?:\\.(\\d{1,${s}}))?(?:$|[^\\d])`),u("COERCERTL",o[a.COERCE],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM",`(\\s*)${o[a.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",u("TILDE",`^${o[a.LONETILDE]}${o[a.XRANGEPLAIN]}$`),u("TILDELOOSE",`^${o[a.LONETILDE]}${o[a.XRANGEPLAINLOOSE]}$`),u("LONECARET","(?:\\^)"),u("CARETTRIM",`(\\s*)${o[a.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",u("CARET",`^${o[a.LONECARET]}${o[a.XRANGEPLAIN]}$`),u("CARETLOOSE",`^${o[a.LONECARET]}${o[a.XRANGEPLAINLOOSE]}$`),u("COMPARATORLOOSE",`^${o[a.GTLT]}\\s*(${o[a.LOOSEPLAIN]})$|^$`),u("COMPARATOR",`^${o[a.GTLT]}\\s*(${o[a.FULLPLAIN]})$|^$`),u("COMPARATORTRIM",`(\\s*)${o[a.GTLT]}\\s*(${o[a.LOOSEPLAIN]}|${o[a.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE",`^\\s*(${o[a.XRANGEPLAIN]})\\s+-\\s+(${o[a.XRANGEPLAIN]})\\s*$`),u("HYPHENRANGELOOSE",`^\\s*(${o[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[a.XRANGEPLAINLOOSE]})\\s*$`),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0.0.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},53933:(e,t,r)=>{"use strict";r.d(t,{fc:()=>o,fW:()=>a,hw:()=>c});var s=r(24551),n=r(42928);function i(e){return JSON.parse(e)}function o(e,t){return i(e)[t]}function a(e){return new n._(e.search)}function c(e,t,r,n){const o=a(e),c=function(e,t,r){return s=Object.assign(Object.assign({},i(e||"{}")),{[t]:r}),JSON.stringify(s);var s}(o.get(n),r,s.Ep(t));return o.set(n,c),{pathname:e.pathname,search:(u=o,`?${u.toString()}`),hash:e.hash};var u}},94907:(e,t,r)=>{"use strict";r.d(t,{Wq:()=>O});var s=r(24551),n=r(78273);function i(e,t=""){const r="string"==typeof e?e:s.Ep(e),{pathname:i="",search:o="",hash:a=""}=s.cP(r.startsWith("/")?r:(0,n.Z)(r,t));return{pathname:i,search:o,hash:a}}function o(){return Math.random().toString(36).slice(2,8)}class a{constructor(e,t){this.rootHistory=e,this.rootLocationTransformer=t,this.rootHistoryV2={get length(){try{return window.history.length}catch(e){return 1}},get location(){return e.location},push(t){const r=c(t,e.location);e.push(r,t.state)},replace(t){const r=c(t,e.location);e.replace(r,t.state)},createHref:t=>e.createHref(t),listen:t=>e.listen((({location:e,action:r})=>t(e,r)))}}get rootLocation(){return this.rootHistory.location}push(e,t){const{pathname:r,search:s,hash:n,state:i}=this.createRootLocation(e,t);this.rootHistory.push({pathname:r,search:s,hash:n},i)}replace(e,t){const{pathname:r,search:s,hash:n,state:i}=this.createRootLocation(e,t);this.rootHistory.replace({pathname:r,search:s,hash:n},i)}createHref(e,t){const{pathname:r,search:s,hash:n}=this.createRootLocation(e,t);return this.rootHistory.createHref({pathname:r,search:s,hash:n})}getConsumerLocation(e){var t;const r=this.rootLocationTransformer.getConsumerPathFromRootLocation(this.rootLocation,e)||"/",{state:n,key:a}=(null===(t=this.rootLocation.state)||void 0===t?void 0:t[e])||{state:void 0,key:o()};return Object.assign(Object.assign({},i(s.cP(r))),{state:n,key:a})}listenForRootLocationChange(e){return this.rootHistory.listen((({action:t})=>{e(t)}))}createNewRootLocationForMultipleConsumers(...e){let t={pathname:"/"};if(this.rootLocationTransformer.createNewRootLocationForMultipleConsumers)t=this.rootLocationTransformer.createNewRootLocationForMultipleConsumers(...e);else for(const r of e)t=this.rootLocationTransformer.createRootLocation(t,r.location,r.historyKey);const r={};for(const{historyKey:t,state:s}of e)r[t]={state:s,key:o()};return Object.assign(Object.assign({},i(t)),{state:r})}createRootLocation(e,t){const r=this.rootLocationTransformer.createRootLocation(this.rootLocation,t,e),{state:s,key:n=o()}=t;return Object.assign(Object.assign({},i(r)),{state:Object.assign(Object.assign({},this.rootLocation.state),{[e]:{state:s,key:n}})})}}function c(e,t){return void 0!==e.pathname?e:void 0!==e.search?{pathname:t.pathname,search:e.search,hash:e.hash}:{pathname:t.pathname,search:t.search,hash:e.hash}}function u(e){if(function(e){return/^https?:\/\//.test(e)}(e)){const{pathname:t,search:r}=new URL(e);return{pathname:t,search:r}}return s.cP(e)}var h=r(64063),l=r.n(h);class p{constructor(e,t,r){this.context=e,this.historyKey=t,this.historyMultiplexer=r,this.action=s.aU.Pop;const{pathname:n,search:i,hash:o,state:a,key:c}=r.getConsumerLocation(t);this.location={pathname:n.startsWith("/")?n:`/${n}`,search:i,hash:o,state:a,key:c},this.push=this.push.bind(this),this.replace=this.replace.bind(this),this.go=this.go.bind(this),this.back=this.back.bind(this),this.forward=this.forward.bind(this),this.block=this.block.bind(this),this.createHref=this.createHref.bind(this)}push(e,t){this.location=this.createLocation(e,t),this.historyMultiplexer.push(this.historyKey,this.location),this.action=s.aU.Push}replace(e,t){this.location=this.createLocation(e,t),this.historyMultiplexer.replace(this.historyKey,this.location),this.action=s.aU.Replace}go(){this.context.logger.warn("history.go() is not supported.")}back(){this.context.logger.warn("history.back() is not supported.")}forward(){this.context.logger.warn("history.forward() is not supported.")}block(){return this.context.logger.warn("history.block() is not supported."),()=>{}}createHref(e){return this.historyMultiplexer.createHref(this.historyKey,i(e,s.Ep(this.location)))}createLocation(e,t){return Object.assign(Object.assign({},i(e,this.location.pathname)),{state:t,key:o()})}}class d extends p{constructor(e,t,r){super(e,t,r),this.listeners=new Set,this.unregisterCallbacks=[],this.browserUnregister=r.listenForRootLocationChange((e=>{this.handleRootLocationChange(e)})),this.listen=this.listen.bind(this),this.push=this.push.bind(this),this.replace=this.replace.bind(this)}destroy(){this.browserUnregister(),this.unregisterCallbacks.forEach((e=>e()))}listen(e){this.listeners.add(e);const t=()=>{this.listeners.delete(e)};return this.unregisterCallbacks.push(t),t}push(e,t){super.push(e,t),this.notifyListeners()}replace(e,t){super.replace(e,t),this.notifyListeners()}notifyListeners(){for(const e of this.listeners)e({location:this.location,action:this.action})}handleRootLocationChange(e){const t=this.historyMultiplexer.getConsumerLocation(this.historyKey);this.matches(t)||(this.location=t,this.action=e,this.notifyListeners())}matches(e){return s.Ep(e)===s.Ep(this.location)&&l()(e.state,this.location.state)}}function f(e,t){return{get length(){return"undefined"==typeof window?1:window.history.length},get action(){return t.action},get location(){return t.location},push:(e,r)=>{if("string"==typeof e)t.push(e,r);else{const{pathname:r,search:s,hash:n,state:i}=e;t.push({pathname:r,search:s,hash:n},i)}},replace:(e,r)=>{if("string"==typeof e)t.replace(e,r);else{const{pathname:r,search:s,hash:n,state:i}=e;t.replace({pathname:r,search:s,hash:n},i)}},go:()=>{e.logger.warn("history.go() is not supported.")},goBack:()=>{e.logger.warn("history.goBack() is not supported.")},goForward:()=>{e.logger.warn("history.goForward() is not supported.")},block:()=>(e.logger.warn("history.block() is not supported."),()=>{}),listen:e=>t.listen((({location:t,action:r})=>e(t,r))),createHref:e=>t.createHref(e)}}class g extends p{constructor(e,t,r){super(e,t,r),this.listen=this.listen.bind(this)}listen(){return this.context.logger.warn("history.listen() is not supported."),()=>{}}}function m(e,t,r){const{getHistoryKey:s}=r;return(r,n)=>{const i=s({consumerId:r,consumerName:n});let o,a,c=()=>{};return{featureService:{createBrowserHistory:()=>{if(o)e.logger.warn(`createBrowserHistory was called multiple times by consumer ${JSON.stringify(r)}. Returning the same history instance as before.`);else{const r=new d(e,i,t.browserHistoryMultiplexer);c=()=>r.destroy(),o=f(e,r)}return o},createStaticHistory:()=>(a?e.logger.warn(`createStaticHistory was called multiple times by consumer ${JSON.stringify(r)}. Returning the same history instance as before.`):a=f(e,new g(e,i,t.staticHistoryMultiplexer)),a),get staticRootLocation(){return t.staticHistoryMultiplexer.rootLocation}},unbind:()=>{c()}}}}function E(e,t,r,s){return{historyKey:t,history:f(e,r),rootHistory:s.rootHistoryV2,createNewRootLocationForMultipleConsumers:(...e)=>s.createNewRootLocationForMultipleConsumers(...e.map((({historyKey:e,location:{pathname:t,search:r,hash:s,state:n}})=>({historyKey:e,location:{pathname:t,search:r,hash:s},state:n}))))}}function y(e,t,r){const{mode:s,getHistoryKey:n}=r;return(r,i)=>{const o=n({consumerId:r,consumerName:i});return"browser"===s?function(e,t,r){const s=new d(e,r,t.browserHistoryMultiplexer);return{featureService:E(e,r,s,t.browserHistoryMultiplexer),unbind:()=>{s.destroy()}}}(e,t,o):function(e,t,r){return{featureService:E(e,r,new g(e,r,t.staticHistoryMultiplexer),t.staticHistoryMultiplexer)}}(e,t,o)}}function A(e,t,r){return{historyKey:e,history:t,rootHistory:r.rootHistory,createNewRootLocationForMultipleConsumers:(...e)=>r.createNewRootLocationForMultipleConsumers(...e)}}function v(e,t,r){const{mode:s,getHistoryKey:n}=r;return(r,i)=>{const o=n({consumerId:r,consumerName:i});return"browser"===s?function(e,t,r){const s=new d(e,r,t.browserHistoryMultiplexer);return{featureService:A(r,s,t.browserHistoryMultiplexer),unbind:()=>{s.destroy()}}}(e,t,o):function(e,t,r){return{featureService:A(r,new g(e,r,t.staticHistoryMultiplexer),t.staticHistoryMultiplexer)}}(e,t,o)}}function O(e,t={}){const{mode:r="browser",getHistoryKey:n=(({consumerId:e})=>e)}=t;return{id:"s2:history",optionalDependencies:{featureServices:{"s2:logger":"^1.0.0","s2:server-request":"^1.0.0"}},create:t=>{const i={logger:(o=t.featureServices)["s2:logger"]||console,serverRequest:o["s2:server-request"]};var o;const c=function(e,t){let r,n;return{get browserHistoryMultiplexer(){return r||(r=new a(s.lX(),t)),r},get staticHistoryMultiplexer(){if(!n){if(!e.serverRequest)throw new Error("Static history can not be created without a server request.");n=new a(s.PP({initialEntries:[u(e.serverRequest.url)],initialIndex:0}),t)}return n}}}(i,e);return{"1.0.0":m(i,c,{getHistoryKey:n}),"2.0.0":y(i,c,{mode:r,getHistoryKey:n}),"3.0.0":v(i,c,{mode:r,getHistoryKey:n})}}}}},42928:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{_:()=>URLSearchParamsPonyfill});const URLSearchParamsPonyfill="undefined"==typeof URLSearchParams&&"undefined"==typeof window?eval("require")("url").URLSearchParams:URLSearchParams},11226:(e,t,r)=>{"use strict";function s(e=(()=>console)){return{id:"s2:logger",create:()=>({"1.0.0":(t,r)=>({featureService:e(t,r)})})}}r.d(t,{A:()=>s})},3209:(e,t,r)=>{"use strict";function s(e){for(const t of Object.keys(e))System.register(t,[],(r=>(r(e[t]),{})))}async function n(e){const t=await System.import(function(e){return/^https?:\/\//.test(e)||/^\.?\//.test(e)?e:`./${e}`}(e));return t.__esModule?t.default:t}r.d(t,{n:()=>s,Z:()=>n}),r(11707),r(85015),r(15161)},81898:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&s(t,e,r);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureAppContainer=function(e){return o.createElement(a.FeatureHubContextConsumer,null,(({featureAppManager:t,logger:r})=>o.createElement(c.FeatureAppContext.Consumer,null,(s=>o.createElement(u.InternalFeatureAppContainer,Object.assign({featureAppManager:t,logger:r,parentFeatureApp:s},e))))))};const o=i(r(67294)),a=r(71698),c=r(31976),u=r(81368)},21661:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&s(t,e,r);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureAppLoader=function(e){return o.createElement(a.FeatureHubContextConsumer,null,(t=>o.createElement(l,Object.assign({},t,e))))};const o=i(r(67294)),a=r(71698),c=r(81368),u=r(63163),h="object"==typeof window&&"object"==typeof document&&9===document.nodeType;class l extends o.PureComponent{constructor(e){super(e),this.state={},this.errorHandled=!1,this.mounted=!1;const{baseUrl:t,featureAppManager:r,src:s,serverSrc:n,asyncSsrManager:i,addUrlForHydration:o,addStylesheetsForSsr:a,moduleType:c,serverModuleType:l}=e,p=h?s:n,d=h?c:l;if(!p){if(h)throw new Error("No src provided.");return}if(!h&&o&&o((0,u.prependBaseUrl)(t,s),c),!h&&a){const e=this.prependCssHrefs();e&&a(e)}const f=(0,u.prependBaseUrl)(t,p),{error:g,promise:m,value:E}=r.getAsyncFeatureAppDefinition(f,d);g?(this.handleError(g),this.state={error:g}):E?this.state={featureAppDefinition:E}:!h&&i&&i.scheduleRerender(m)}async componentDidMount(){if(this.mounted=!0,this.appendCss(),this.state.featureAppDefinition)return;const{baseUrl:e,featureAppManager:t,src:r,moduleType:s}=this.props;try{const n=await t.getAsyncFeatureAppDefinition((0,u.prependBaseUrl)(e,r),s).promise;this.mounted&&this.setState({featureAppDefinition:n})}catch(e){try{this.handleError(e),this.mounted&&this.setState({error:e})}catch(e){this.mounted&&this.setState({error:e,failedToHandleAsyncError:!0})}}}componentWillUnmount(){this.mounted=!1}render(){const{baseUrl:e,beforeCreate:t,children:r,config:s,featureAppId:n,featureAppName:i,onError:a,done:u,featureAppManager:h,logger:l}=this.props,{error:p,failedToHandleAsyncError:d,featureAppDefinition:f}=this.state;if(p){if(d)throw p;return r?r({error:p,loading:!1}):null}return f||r?o.createElement(c.InternalFeatureAppContainer,{children:r,baseUrl:e,beforeCreate:t,config:s,featureAppId:n,featureAppName:i,featureAppDefinition:f,onError:a,done:u,featureAppManager:h,logger:l}):null}appendCss(){const e=this.prependCssHrefs();if(e)for(const{href:t,media:r="all"}of e)document.querySelector(`link[href="${t}"]`)||document.head.appendChild(Object.assign(document.createElement("link"),{rel:"stylesheet",href:t,media:r}))}prependCssHrefs(){const{baseUrl:e,css:t}=this.props;return e&&t?t.map((({href:t,media:r})=>({href:(0,u.prependBaseUrl)(e,t),media:r}))):t}handleError(e){this.errorHandled||(this.errorHandled=!0,this.props.onError?this.props.onError(e):this.logError(e))}logError(e){const{baseUrl:t,featureAppId:r,logger:s,src:n,serverSrc:i}=this.props,o=h?n:i;s.error(`The Feature App for the src ${JSON.stringify(o&&(0,u.prependBaseUrl)(t,o))} and the ID ${JSON.stringify(r)} could not be rendered.`,e)}}},71698:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&s(t,e,r);return n(t,e),t},o=this&&this.__rest||function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]])}return r};Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureHubContextProvider=t.FeatureHubContext=void 0,t.FeatureHubContextConsumer=function(e){return a.createElement(t.FeatureHubContext.Consumer,null,(t=>{if(!t)throw new Error("No Feature Hub context was provided! There are two possible causes: 1.) No FeatureHubContextProvider was rendered in the React tree. 2.) A Feature App that renders itself a FeatureAppLoader or a FeatureAppContainer did not declare @feature-hub/react as an external package.");const{logger:r=console}=t,s=o(t,["logger"]);return e.children(Object.assign({logger:r},s))}))};const a=i(r(67294));t.FeatureHubContext=a.createContext(void 0),t.FeatureHubContextProvider=t.FeatureHubContext.Provider},92924:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(81898),t),n(r(21661),t),n(r(71698),t)},31976:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&s(t,e,r);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureAppContext=void 0;const o=i(r(67294));t.FeatureAppContext=o.createContext(void 0)},81368:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&s(t,e,r);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.InternalFeatureAppContainer=t.handleError=void 0;const o=i(r(67294)),a=r(31976),c=r(27543);t.handleError=(e,t,r)=>{r?r(t):e.error(t)};class u extends o.PureComponent{constructor(){super(...arguments),this.state={loading:!0},this.containerRef=o.createRef(),this.mounted=!1,this.loadingPromiseHandled=!1,this.domFeatureAppAttached=!1}static getDerivedStateFromProps(e,r){const{baseUrl:s,beforeCreate:n,config:i,featureAppId:o,featureAppName:a,featureAppManager:u,featureAppDefinition:h,done:l,logger:p,onError:d,parentFeatureApp:f}=e;if(h&&!r.featureApp&&!r.error)try{const e=u.createFeatureAppScope(o,h,{featureAppName:a,baseUrl:s,config:i,beforeCreate:n,done:l,parentFeatureApp:f}),{featureApp:t,release:r}=e;if(!(0,c.isFeatureApp)(t))throw new Error("Invalid Feature App found. The Feature App must be an object with either 1) a `render` method that returns a React element, or 2) an `attachTo` method that accepts a container DOM element.");return{featureApp:t,release:r,loading:Boolean(t.loadingPromise)}}catch(e){try{(0,t.handleError)(p,e,d)}catch(e){return{error:e,loading:!1,failedToHandleAsyncError:!0}}return{error:e,loading:!1}}return null}componentDidCatch(e){this.handleError(e),this.setState({error:e,loading:!1})}componentDidMount(){this.mounted=!0,this.attachDomFeatureApp(),this.handleLoading()}componentDidUpdate(){this.attachDomFeatureApp(),this.handleLoading()}componentWillUnmount(){if(this.mounted=!1,this.state&&this.state.release)try{this.state.release()}catch(e){this.handleError(e)}}render(){if("error"in this.state&&this.state.error){if(this.state.failedToHandleAsyncError)throw this.state.error;return this.renderError(this.state.error)}const{children:e,featureAppId:t,featureAppName:r}=this.props;if(!this.state.featureApp)return e?e({loading:!0}):null;const{featureApp:s,loading:n}=this.state;let i;if((0,c.isReactFeatureApp)(s))try{i=s.render()}catch(e){return this.handleError(e),this.renderError(e)}else i=o.createElement("div",{ref:this.containerRef});return o.createElement(a.FeatureAppContext.Provider,{value:{featureAppId:t,featureAppName:r}},e?e({featureAppNode:i,loading:n}):i)}handleLoading(){const{featureApp:e}=this.state;e&&e.loadingPromise&&!this.loadingPromiseHandled&&(this.loadingPromiseHandled=!0,e.loadingPromise.then((()=>{this.mounted&&this.setState({loading:!1})})).catch((e=>{try{this.handleError(e),this.mounted&&this.setState({error:e,failedToHandleAsyncError:!1,loading:!1})}catch(e){this.mounted&&this.setState({error:e,failedToHandleAsyncError:!0,loading:!1})}})))}renderError(e){const{children:t}=this.props;return t?t({error:e,loading:!1}):null}handleError(e){const{logger:r,onError:s}=this.props;(0,t.handleError)(r,e,s)}attachDomFeatureApp(){if(this.state.featureApp&&!this.domFeatureAppAttached&&this.containerRef.current&&!("error"in this.state)&&(0,c.isDomFeatureApp)(this.state.featureApp))try{this.state.featureApp.attachTo(this.containerRef.current),this.domFeatureAppAttached=!0}catch(e){this.componentDidCatch(e)}}}t.InternalFeatureAppContainer=u},63163:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.prependBaseUrl=function(e,t){return!e||function(e){return/^https?:\/\//.test(e)}(t)?t:(0,n.default)(e,t)};const n=s(r(34078))},27543:(e,t)=>{"use strict";function r(e){return"function"==typeof e.attachTo}function s(e){return"function"==typeof e.render}Object.defineProperty(t,"__esModule",{value:!0}),t.isDomFeatureApp=r,t.isReactFeatureApp=s,t.isFeatureApp=function(e){return!("object"!=typeof e||!e)&&(r(e)||s(e))}},48618:(e,t,r)=>{"use strict";r.d(t,{I:()=>a});var s=r(67294),n=r(13680),i=r(6611),o=r(57380);function a(e){return s.createElement(n.Pl,null,(({featureAppManager:t,logger:r})=>s.createElement(i.M.Consumer,null,(n=>s.createElement(o.A,Object.assign({featureAppManager:t,logger:r,parentFeatureApp:n},e))))))}},84445:(e,t,r)=>{"use strict";r.d(t,{Y:()=>u});var s=r(67294),n=r(13680),i=r(57380),o=r(10230);const a="object"==typeof window&&"object"==typeof document&&9===document.nodeType;class c extends s.PureComponent{constructor(e){super(e),this.state={},this.errorHandled=!1,this.mounted=!1;const{baseUrl:t,featureAppManager:r,src:s,serverSrc:n,asyncSsrManager:i,addUrlForHydration:c,addStylesheetsForSsr:u,moduleType:h,serverModuleType:l}=e,p=a?s:n,d=a?h:l;if(!p){if(a)throw new Error("No src provided.");return}if(!a&&c&&c((0,o.w)(t,s),h),!a&&u){const e=this.prependCssHrefs();e&&u(e)}const f=(0,o.w)(t,p),{error:g,promise:m,value:E}=r.getAsyncFeatureAppDefinition(f,d);g?(this.handleError(g),this.state={error:g}):E?this.state={featureAppDefinition:E}:!a&&i&&i.scheduleRerender(m)}async componentDidMount(){if(this.mounted=!0,this.appendCss(),this.state.featureAppDefinition)return;const{baseUrl:e,featureAppManager:t,src:r,moduleType:s}=this.props;try{const n=await t.getAsyncFeatureAppDefinition((0,o.w)(e,r),s).promise;this.mounted&&this.setState({featureAppDefinition:n})}catch(e){try{this.handleError(e),this.mounted&&this.setState({error:e})}catch(e){this.mounted&&this.setState({error:e,failedToHandleAsyncError:!0})}}}componentWillUnmount(){this.mounted=!1}render(){const{baseUrl:e,beforeCreate:t,children:r,config:n,featureAppId:o,featureAppName:a,onError:c,done:u,featureAppManager:h,logger:l}=this.props,{error:p,failedToHandleAsyncError:d,featureAppDefinition:f}=this.state;if(p){if(d)throw p;return r?r({error:p,loading:!1}):null}return f||r?s.createElement(i.A,{children:r,baseUrl:e,beforeCreate:t,config:n,featureAppId:o,featureAppName:a,featureAppDefinition:f,onError:c,done:u,featureAppManager:h,logger:l}):null}appendCss(){const e=this.prependCssHrefs();if(e)for(const{href:t,media:r="all"}of e)document.querySelector(`link[href="${t}"]`)||document.head.appendChild(Object.assign(document.createElement("link"),{rel:"stylesheet",href:t,media:r}))}prependCssHrefs(){const{baseUrl:e,css:t}=this.props;return e&&t?t.map((({href:t,media:r})=>({href:(0,o.w)(e,t),media:r}))):t}handleError(e){this.errorHandled||(this.errorHandled=!0,this.props.onError?this.props.onError(e):this.logError(e))}logError(e){const{baseUrl:t,featureAppId:r,logger:s,src:n,serverSrc:i}=this.props,c=a?n:i;s.error(`The Feature App for the src ${JSON.stringify(c&&(0,o.w)(t,c))} and the ID ${JSON.stringify(r)} could not be rendered.`,e)}}function u(e){return s.createElement(n.Pl,null,(t=>s.createElement(c,Object.assign({},t,e))))}},13680:(e,t,r)=>{"use strict";r.d(t,{t_:()=>n,nO:()=>i,Pl:()=>o});var s=r(67294);const n=s.createContext(void 0),i=n.Provider;function o(e){return s.createElement(n.Consumer,null,(t=>{if(!t)throw new Error("No Feature Hub context was provided! There are two possible causes: 1.) No FeatureHubContextProvider was rendered in the React tree. 2.) A Feature App that renders itself a FeatureAppLoader or a FeatureAppContainer did not declare @feature-hub/react as an external package.");const{logger:r=console}=t,s=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]])}return r}(t,["logger"]);return e.children(Object.assign({logger:r},s))}))}},2310:(e,t,r)=>{"use strict";r.r(t),r.d(t,{FeatureAppContainer:()=>s.I,FeatureAppLoader:()=>n.Y,FeatureHubContext:()=>i.t_,FeatureHubContextConsumer:()=>i.Pl,FeatureHubContextProvider:()=>i.nO});var s=r(48618),n=r(84445),i=r(13680)},6611:(e,t,r)=>{"use strict";r.d(t,{M:()=>s});const s=r(67294).createContext(void 0)},57380:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(67294),n=r(6611),i=r(10631);const o=(e,t,r)=>{r?r(t):e.error(t)};class a extends s.PureComponent{constructor(){super(...arguments),this.state={loading:!0},this.containerRef=s.createRef(),this.mounted=!1,this.loadingPromiseHandled=!1,this.domFeatureAppAttached=!1}static getDerivedStateFromProps(e,t){const{baseUrl:r,beforeCreate:s,config:n,featureAppId:a,featureAppName:c,featureAppManager:u,featureAppDefinition:h,done:l,logger:p,onError:d,parentFeatureApp:f}=e;if(h&&!t.featureApp&&!t.error)try{const e=u.createFeatureAppScope(a,h,{featureAppName:c,baseUrl:r,config:n,beforeCreate:s,done:l,parentFeatureApp:f}),{featureApp:t,release:o}=e;if(!(0,i.$v)(t))throw new Error("Invalid Feature App found. The Feature App must be an object with either 1) a `render` method that returns a React element, or 2) an `attachTo` method that accepts a container DOM element.");return{featureApp:t,release:o,loading:Boolean(t.loadingPromise)}}catch(e){try{o(p,e,d)}catch(e){return{error:e,loading:!1,failedToHandleAsyncError:!0}}return{error:e,loading:!1}}return null}componentDidCatch(e){this.handleError(e),this.setState({error:e,loading:!1})}componentDidMount(){this.mounted=!0,this.attachDomFeatureApp(),this.handleLoading()}componentDidUpdate(){this.attachDomFeatureApp(),this.handleLoading()}componentWillUnmount(){if(this.mounted=!1,this.state&&this.state.release)try{this.state.release()}catch(e){this.handleError(e)}}render(){if("error"in this.state&&this.state.error){if(this.state.failedToHandleAsyncError)throw this.state.error;return this.renderError(this.state.error)}const{children:e,featureAppId:t,featureAppName:r}=this.props;if(!this.state.featureApp)return e?e({loading:!0}):null;const{featureApp:o,loading:a}=this.state;let c;if((0,i.Oh)(o))try{c=o.render()}catch(e){return this.handleError(e),this.renderError(e)}else c=s.createElement("div",{ref:this.containerRef});return s.createElement(n.M.Provider,{value:{featureAppId:t,featureAppName:r}},e?e({featureAppNode:c,loading:a}):c)}handleLoading(){const{featureApp:e}=this.state;e&&e.loadingPromise&&!this.loadingPromiseHandled&&(this.loadingPromiseHandled=!0,e.loadingPromise.then((()=>{this.mounted&&this.setState({loading:!1})})).catch((e=>{try{this.handleError(e),this.mounted&&this.setState({error:e,failedToHandleAsyncError:!1,loading:!1})}catch(e){this.mounted&&this.setState({error:e,failedToHandleAsyncError:!0,loading:!1})}})))}renderError(e){const{children:t}=this.props;return t?t({error:e,loading:!1}):null}handleError(e){const{logger:t,onError:r}=this.props;o(t,e,r)}attachDomFeatureApp(){if(this.state.featureApp&&!this.domFeatureAppAttached&&this.containerRef.current&&!("error"in this.state)&&(0,i.J8)(this.state.featureApp))try{this.state.featureApp.attachTo(this.containerRef.current),this.domFeatureAppAttached=!0}catch(e){this.componentDidCatch(e)}}}},10230:(e,t,r)=>{"use strict";r.d(t,{w:()=>i});var s=r(34078),n=r.n(s);function i(e,t){return!e||function(e){return/^https?:\/\//.test(e)}(t)?t:n()(e,t)}},10631:(e,t,r)=>{"use strict";function s(e){return"function"==typeof e.attachTo}function n(e){return"function"==typeof e.render}function i(e){return!("object"!=typeof e||!e)&&(s(e)||n(e))}r.d(t,{J8:()=>s,Oh:()=>n,$v:()=>i})},85138:(e,t,r)=>{"use strict";r.d(t,{X:()=>o});class s{setSerializedStates(e){this.serializedStatesByConsumerId=JSON.parse(decodeURI(e))}getSerializedState(e){return this.serializedStatesByConsumerId&&this.serializedStatesByConsumerId[e]}}class n{constructor(e,t,r){this.consumerId=e,this.serverSideStateManager=t,this.clientSideStateManager=r}register(e){this.serverSideStateManager.register(this.consumerId,e)}serializeStates(){return this.serverSideStateManager.serializeStates()}setSerializedStates(e){this.clientSideStateManager.setSerializedStates(e)}getSerializedState(){return this.clientSideStateManager.getSerializedState(this.consumerId)}}class i{constructor(){this.serializeStateCallbacks=new Map}register(e,t){this.serializeStateCallbacks.set(e,t)}serializeStates(){const e={};return this.serializeStateCallbacks.forEach(((t,r)=>{e[r]=t()})),encodeURI(JSON.stringify(e))}}function o(e){return{id:"s2:serialized-state-manager",create:()=>{const t=new i,r=new s;return e&&r.setSerializedStates(e),{"1.0.0":e=>({featureService:new n(e,t,r)})}}}}o()}}]);
//# sourceMappingURL=219.04f292d9f102652e.js.map